<!DOCTYPE html>
<html>
<head>
    <title>Diagram Codes embed example</title>
</head>
<body>
    <p>
        Embedding the diagram codes engine in a web application
    </p>
    <button id="btn">Render diagram</button>
    <div id="container"/>
    <script type="text/javascript" src="./diagram-codes-engine-client.umd.js"></script>
    <script>
        /* Set the path to the location of the engine web package.
           The unique engine url is provided when you register for an integration subscription.

           If required, the diagram rendering engine can also be self hosted
        */

        //DiagramEngine.enginePath = 'https://web-engine-demo-dev.diagram.codes/apirender/'

        DiagramEngine.enginePath = 'http://localhost:3000/apirender'

        btn.addEventListener('click', ()=>{

            let diagramParams = {
                container:'#container',
                type:'mind-map',
                code:`
                    "My Map"->b,c,d,e,random
                    random->${Math.random()*1000}
                `,
                theme: {
                    document: {
                        backgroundColor:'lightgrey'
                    }
                }
            }

            DiagramEngine.renderDiagram(diagramParams)
        })

        //Capture errors
        DiagramEngine.setErrorHandler((errorData)=>{
            console.log(errorData.message);
            console.log(errorData.line);
        })
    </script>
</body>
</html>